<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>城市伴讀 | 西班牙旅遊助手</title>
    <!-- Tailwind CSS (樣式) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & Babel (核心) -->
    <script type="importmap">
        {
            "imports": {
                "react": "https://esm.sh/react@18.2.0",
                "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
                "lucide-react": "https://esm.sh/lucide-react@0.344.0"
            }
        }
    </script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        /* 隱藏滾動條但保留功能 */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        body {
            background-color: #f9fafb;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import { createRoot } from 'react-dom/client';
        // 修正：加入了 Euro 到引入列表
        import { Sun, Cloud, CloudRain, Snowflake, Moon, Sunrise, Sunset, MapPin, Camera, BookOpen, Utensils, Clock, Info, ChevronRight, Star, Instagram, Loader, Hash, Lightbulb, Search, FileText, ShoppingBag, Gift, Euro } from 'lucide-react';

        // 城市座標配置
        const cityConfigs = {
            madrid: { lat: 40.4168, lon: -3.7038 },
            seville: { lat: 37.3891, lon: -5.9845 },
            granada: { lat: 37.1773, lon: -3.5986 },
            barcelona: { lat: 41.3851, lon: 2.1734 }
        };

        const CityCompanion = () => {
            const [activeCity, setActiveCity] = useState('barcelona');
            const [currentTime, setCurrentTime] = useState(new Date());
            const [weatherData, setWeatherData] = useState(null);
            const [loadingWeather, setLoadingWeather] = useState(false);

            // Refs
            const attractionsRef = useRef(null);
            const hiddenGemsRef = useRef(null);
            const shoppingRef = useRef(null);
            const foodRef = useRef(null);

            useEffect(() => {
                const timer = setInterval(() => setCurrentTime(new Date()), 60000);
                return () => clearInterval(timer);
            }, []);

            useEffect(() => {
                const fetchWeather = async () => {
                    setLoadingWeather(true);
                    const coords = cityConfigs[activeCity]; 
                    if (!coords) { setLoadingWeather(false); return; }
                    try {
                        const response = await fetch(
                            `https://api.open-meteo.com/v1/forecast?latitude=${coords.lat}&longitude=${coords.lon}&current=temperature_2m,weather_code,is_day&daily=sunrise,sunset&timezone=Europe%2FMadrid`
                        );
                        const data = await response.json();
                        setWeatherData(data);
                    } catch (error) {
                        console.error("Weather fetch failed", error);
                        setWeatherData(null);
                    } finally {
                        setLoadingWeather(false);
                    }
                };
                fetchWeather();
            }, [activeCity]);

            const scrollToSection = (ref) => ref.current?.scrollIntoView({ behavior: 'smooth', block: 'start' });
            const scrollToAttraction = (id) => {
                const element = document.getElementById(id);
                if (element) element.scrollIntoView({ behavior: 'smooth', block: 'start' });
            };

            const getWeatherIcon = (code, isDay) => {
                if (code === 0) return isDay ? <Sun className="text-orange-500" size={40} /> : <Moon className="text-indigo-300" size={40} />;
                if (code >= 1 && code <= 3) return <Cloud className="text-gray-400" size={40} />;
                if (code >= 51 && code <= 67) return <CloudRain className="text-blue-400" size={40} />;
                if (code >= 71) return <Snowflake className="text-cyan-300" size={40} />;
                return <Sun className="text-orange-500" size={40} />;
            };

            const getWeatherDesc = (code) => {
                const codes = { 0: '晴朗無雲', 1: '大致晴朗', 2: '多雲', 3: '陰天', 45: '霧', 48: '白霜霧', 51: '毛毛雨', 53: '中雨', 55: '大雨', 61: '小雨', 63: '中雨', 65: '大雨', 80: '陣雨' };
                return codes[code] || '多變天氣';
            };

            const getGoogleMapsUrl = (query) => `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(query)}`;
            const openHashtag = (tag) => window.open(`https://www.instagram.com/explore/tags/${tag}/`, '_blank');
            const searchBlogs = (spotName) => window.open(`https://www.google.com/search?q=${encodeURIComponent(spotName + ' 歷史故事 遊記')}`, '_blank');
            const getImageUrl = (id) => `https://images.unsplash.com/photo-${id}?auto=format&fit=crop&w=800&q=80`;

            const cityData = {
                madrid: {
                    name: '馬德里',
                    attractions: [
                        {
                            name: '太陽門廣場 (Puerta del Sol)',
                            info: '全天開放 | 地鐵 Sol 站直達',
                            history: '這裡是馬德里的心臟，也是西班牙所有公路網的起點「零公里 (Km 0)」。廣場上著名的「熊與莓樹」雕像源自中世紀傳說與市徽。此外，舊郵政大樓鐘樓是跨年聖地，每當除夕鐘聲響起，市民會聚集於此吞下12顆葡萄祈求好運。',
                            hashtags: ['puertadelsol', 'madridspain', 'km0', 'kilometroceromadrid', 'madridcentro'],
                            tips: ['「零公里」標誌在舊郵政大樓正門前人行道上。', '人潮擁擠，請務必小心扒手。', '想拍空景建議早上9點前抵達。']
                        },
                        {
                            name: '馬德里主廣場 (Plaza Mayor)',
                            info: '全天開放 | 聖誕市集舉辦地',
                            history: '宏偉的哈布斯堡王朝風格廣場，見證了帝國興衰。曾是加冕禮堂、鬥牛競技場甚至刑場。四周被紅色建築環繞，擁有237個陽台。必看北側外牆繪滿神話壁畫的「麵包房之家」。',
                            hashtags: ['plazamayormadrid', 'madrid', 'plazamayor', 'visitmadrid', 'madridarchitecture'],
                            tips: ['廣場內用餐較貴，建議去聖米格爾市場。', '必吃美食「炸魷魚三明治」名店 La Campana 就在拱門出口。', '週日早上有集郵錢幣市集。']
                        },
                        {
                            name: '馬德里王宮 (Palacio Real)',
                            info: '10:00 - 18:00 | 建議提前線上購票',
                            history: '西歐佔地最大的王宮，奢華程度媲美凡爾賽宮。1734年大火後重建，融合巴洛克與古典主義風格。雖國王不住此，但仍是國事活動場所。必看「王座廳」、「皇家樂器室」及「皇家兵器庫」。',
                            hashtags: ['palaciorealmadrid', 'royalpalacemadrid', 'palacioreal', 'madridmonumental', 'royalpalace'],
                            tips: ['週三週六上午11:00有衛兵交接(視情況)。', '週一至週四閉館前2小時歐盟/學生免費(需排隊)。', '內部多區禁拍，請留意標示。']
                        },
                        {
                            name: '阿穆德納聖母主教座堂',
                            info: '10:00 - 20:30 | 建議奉獻 €1',
                            history: '歷時百年建造，風格混搭：新古典主義外觀與新哥德式內部。內部裝飾具現代感，天花板彩繪鮮豔大膽。它是最年輕的主教座堂之一，也是現任國王婚禮地點。',
                            hashtags: ['catedraldelaalmudena', 'almudenacathedral', 'catedralalmudena', 'madridcathedral', 'madridturismo'],
                            tips: ['登頂參觀博物館需購票，視野獨特。', '地下室(Crypt)有獨立入口，超過400根不同柱子，非常壯觀。']
                        },
                        {
                            name: '普拉多博物館 (Museo del Prado)',
                            info: '10:00 - 20:00 | 閉館前2小時免費',
                            history: '西班牙藝術靈魂棲息地，收藏皇室珍品。必看委拉斯開茲《宮女》及哥雅作品，從宮廷畫師到晚年《黑色繪畫》系列，展現人性黑暗面。',
                            hashtags: ['museodelprado', 'pradomuseum', 'artemadrid', 'goya', 'velazquez'],
                            tips: ['免費時段建議提早45分鐘排隊。', '館內嚴禁拍照。', '建議先下載參觀路線圖鎖定重點。']
                        }
                    ],
                    hiddenGems: [
                        { name: '麗池公園 (El Retiro)', desc: '馬德里的綠肺，水晶宮是必去夢幻景點。', query: 'El Retiro Park Madrid' },
                        { name: '聖米格爾市場', desc: '最美鋼鐵玻璃結構市場，適合吃Tapas。', query: 'Mercado de San Miguel Madrid' },
                        { name: '德波神廟', desc: '埃及贈送的古神廟，看夕陽最美。', query: 'Templo de Debod Madrid' },
                        { name: '西貝萊斯廣場', desc: '皇馬慶祝地標，背景郵政大樓極美。', query: 'Plaza de Cibeles Madrid' },
                        { name: '索菲亞王后藝術中心', desc: '收藏畢卡索《格爾尼卡》真跡。', query: 'Museo Reina Sofía Madrid' }
                    ],
                    shopping: [
                        { name: 'Casa de Diego', type: '經典工藝', desc: '百年老店，手工扇子與陽傘是高級紀念品。', query: 'Casa de Diego Puerta del Sol 12' },
                        { name: 'El Moderno', type: '設計選物', desc: '位於瑪拉薩尼亞區，精選創意設計小物，非常有品味。', query: 'El Moderno Concept Store Corredera Baja de San Pablo 29' },
                        { name: 'La Violeta', type: '伴手禮', desc: '經典紫色紫羅蘭糖，包裝精美。', query: 'La Violeta Plaza de Canalejas 6' },
                        { name: 'LOEWE Gran Vía', type: '精品/建築', desc: '皇室愛用品牌旗艦店，建築如博物館般優雅。', query: 'LOEWE Gran Vía 8' },
                        { name: 'Castañer', type: '鞋履', desc: '草編鞋始祖，款式齊全。', query: 'Castañer Claudio Coello 51' }
                    ],
                    souvenirs: ['紫羅蘭糖', '手工扇子', '皇家馬德里球衣', '杜隆糖', 'Loewe 香水'],
                    food: [
                        { name: 'Casa Dani', category: 'Tapas', price: '15-25', info: '市場內號稱全馬德里最好吃的馬鈴薯烘蛋。', query: 'Casa Dani Mercado de la Paz' },
                        { name: 'Chocolatería San Ginés', category: '甜點', price: '5-10', info: '24小時百年老店，必點熱巧克力沾油條。', query: 'Chocolatería San Ginés Pasadizo de San Ginés' },
                        { name: 'Sobrino de Botín', category: '正餐', price: '30-50', info: '金氏紀錄最古老餐廳，烤乳豬必吃。', query: 'Restaurante Botin Madrid' },
                        { name: 'Museo del Jamón', category: '小吃', price: '5-15', info: '火腿博物館，站著吃可頌夾心超便宜。', query: 'Museo del Jamón Calle Mayor' },
                        { name: 'Mercado de San Miguel', category: 'Tapas', price: '15-30', info: '最美市場，各式精緻Tapas。', query: 'Mercado de San Miguel Madrid' },
                        { name: 'La Campana', category: '小吃', price: '5-10', info: '主廣場旁必吃炸魷魚圈三明治。', query: 'La Campana Madrid Plaza Mayor' },
                        { name: 'Casa Labra', category: 'Tapas', price: '10-20', info: '太陽門旁百年老店，必點炸鱈魚球。', query: 'Casa Labra Madrid' },
                        { name: 'Takos Al Pastor', category: '小吃', price: '5-10', info: '超人氣平價塔可，翻桌快。', query: 'Takos Al Pastor Madrid' },
                        { name: 'La Mallorquina', category: '甜點', price: '2-5', info: '太陽門旁百年糕餅店，必吃拿破崙派。', query: 'La Mallorquina Madrid' }
                    ]
                },
                seville: {
                    name: '塞維利亞',
                    attractions: [
                        {
                            name: '西班牙廣場 (Plaza de España)',
                            info: '全天開放 | 建議下午接近日落時前往',
                            history: '為1929年博覽會而建，也是星際大戰取景地。半圓形紅磚建築象徵擁抱前殖民地，底部鑲嵌58幅代表各省份的瓷磚畫。夕陽時分金光粼粼，常有街頭佛朗明哥舞表演。',
                            hashtags: ['plazadeespañasevilla', 'sevilla', 'visitseville', 'plazadeespaña', 'andalucia'],
                            tips: ['可租小船划行，非常浪漫但夏天很曬。', '尋找自己出生年份或特定省份瓷磚畫合照。', '公廁較少，建議在鄰近公園解決。']
                        },
                        {
                            name: '黃金塔 (Torre del Oro)',
                            info: '09:30 - 18:45 | 週一免費',
                            history: '13世紀軍事瞭望塔，古時用鐵鍊橫跨河面封鎖河道。金色光澤來自灰泥、石灰與稻草混合材料在陽光下的效果。現為海軍博物館。',
                            hashtags: ['torredeloro', 'guadalquivir', 'sevillespain', 'torredelorosevilla', 'goldentower'],
                            tips: ['週一免費但人多。', '從對岸貝蒂斯街拍攝可帶入河面倒影。', '旁邊是觀光船碼頭。']
                        },
                        {
                            name: '塞維利亞王宮 (Real Alcázar)',
                            info: '09:30 - 17:00 | 《冰與火之歌》拍攝地',
                            history: '歐洲最古老仍使用的王宮，融合穆德哈爾、哥德與文藝復興風格。必看「佩德羅一世宮」繁複石膏雕花，花園與地下澡堂是多恩流水花園真身。',
                            hashtags: ['realalcazarsevilla', 'alcazarofseville', 'gameofthroneslocation', 'mudejar', 'royalalcazar'],
                            tips: ['強烈建議提前官網訂票。', '週一閉館前一小時有免費時段(需搶票)。', '勿錯過花園中的「浴室」拍倒影。']
                        },
                        {
                            name: '塞維利亞主教堂',
                            info: '10:45 - 17:00 | 包含吉拉達塔登頂',
                            history: '世界最大哥德式教堂，建於清真寺遺址上。安放哥倫布靈柩，由四王抬棺。吉拉達塔原是宣禮塔，內部為斜坡方便騎馬登塔。',
                            hashtags: ['catedraldesevilla', 'giralda', 'sevillecathedral', 'giraldatower', 'catedraldesevilla⛪️'],
                            tips: ['買門票含薩爾瓦多教堂免費入場。', '可先去薩爾瓦多教堂買聯票免排隊。', '登塔全是斜坡，夏天請帶水。']
                        },
                        {
                            name: '都市陽傘 (Metropol Parasol)',
                            info: '10:00 - 23:00 | 俗稱「大蘑菇」',
                            history: '號稱世界最大木造結構體。原為停車場預定地卻發現古蹟，現為融合博物館、市場與觀景台的前衛建築。頂部步道視野絕佳。',
                            hashtags: ['setasdesevilla', 'metropolparasol', 'las_setas', 'sevilleview', 'setassevilla'],
                            tips: ['門票含頂樓酒吧飲料券，記得兌換。', '最佳時間是日落前30分鐘。', '憑門票可免費參觀地下室羅馬遺跡。']
                        }
                    ],
                    hiddenGems: [
                        { name: '特里亞納區 (Triana)', desc: '河對岸陶器與佛朗明哥發源地。', query: 'Triana District Seville' },
                        { name: '彼拉多官邸', desc: '「小王宮」，磁磚裝飾極美，遊客較少。', query: 'Casa de Pilatos Seville' },
                        { name: '聖十字區', desc: '猶太舊街區，巷弄曲折適合迷路探險。', query: 'Barrio de Santa Cruz Seville' },
                        { name: '瑪麗亞路易莎公園', desc: '西班牙廣場旁的巨大綠地。', query: 'Parque de María Luisa Seville' },
                        { name: '印度群島檔案館', desc: '存放航海時代珍貴手稿的世界遺產。', query: 'Archivo de Indias Seville' }
                    ],
                    shopping: [
                        { name: 'Cerámica RUIZ', type: '陶瓷', desc: '特里亞納區老字號，購買傳統彩繪陶瓷最佳地點。', query: 'Cerámica Ruiz Calle San Jorge 27' },
                        { name: 'Mariquita Trasquilá', type: '時尚/女裝', desc: '時下最紅平價禮服與設計選物，當地女生超愛。', query: 'Mariquita Trasquilá Sevilla Calle Cuna 14' },
                        { name: 'Ines Rosales', type: '伴手禮', desc: '百年橄欖油薄餅，超市買最便宜。', query: 'Mercadona Plaza de Armas' },
                        { name: 'Agua de Sevilla', type: '香氛', desc: '苦橙花基底香水，請認明 Calle Tetuán 旗艦店。', query: 'Perfumerías Aromas Calle Tetuán 5' }
                    ],
                    souvenirs: ['彩繪陶瓷', '橄欖油薄餅', '苦橙花香水', '佛朗明哥舞裙/扇子'],
                    food: [
                        { name: 'La Brunilda', category: 'Tapas', price: '15-25', info: '排隊網紅店，創意Tapas，必點鴨肉燉飯。', query: 'La Brunilda Tapas Seville' },
                        { name: 'Eslava', category: 'Tapas', price: '15-25', info: '獲獎名店，必點雪茄捲和低溫慢煮蛋。', query: 'Espacio Eslava Seville' },
                        { name: 'El Rinconcillo', category: '正餐', price: '20-35', info: '1670年開業最古老酒吧，菠菜鷹嘴豆是招牌。', query: 'El Rinconcillo Seville' },
                        { name: 'Bodega Santa Cruz', category: '小吃', price: '10-20', info: '教堂旁柱子酒吧，站著吃超親民。', query: 'Bodega Santa Cruz Las Columnas' },
                        { name: 'Confitería La Campana', category: '甜點', price: '5-10', info: '百年甜點店，適合早餐下午茶。', query: 'Confitería La Campana Seville' },
                        { name: 'Bar Alfalfa', category: 'Tapas', price: '10-20', info: '當地人聚集小酒館，Bruschetta口味多。', query: 'Bar Alfalfa Seville' },
                        { name: 'Freiduría La Isla', category: '海鮮', price: '15-25', info: '專賣安達魯西亞炸魚老店。', query: 'Freiduría La Isla Seville' },
                        { name: 'Petit Comité', category: '正餐', price: '25-40', info: '精緻法式融合菜，適合約會。', query: 'Petit Comité Seville' }
                    ]
                },
                granada: {
                    name: '格拉納達',
                    attractions: [
                        {
                            name: '阿爾罕布拉宮 (Alhambra)',
                            info: '08:30 - 20:00 | 需提前3個月搶票',
                            history: '摩爾人「人間天堂」的具體實踐。必看「納斯里德宮」：桃金孃中庭象徵平靜，獅子庭院擁有精妙水力系統，兩姊妹廳的鐘乳石穹頂象徵宇宙。訴說著曾經輝煌、最終淚別的王朝故事。',
                            hashtags: ['alhambra', 'alhambradegranada', 'granada', 'nasridpalaces', 'generalife'],
                            tips: ['門票時間是納斯里德宮入場時間，遲到會被拒。', '務必帶護照正本查驗。', '園區極大，建議預留4-5小時。']
                        },
                        {
                            name: 'La Alcaicería (阿拉伯絲綢市集)',
                            info: '10:00 - 21:00 | 就在大教堂旁',
                            history: '曾是摩爾大市集，專賣絲綢香料。重建後保留北非風情，巷弄狹窄防曬。掛滿色彩繽紛飾品與鑲嵌木工藝品，彷彿穿越到摩洛哥。',
                            hashtags: ['alcaiceria', 'granadasouk', 'granadamarket', 'visitgranada', 'granadashopping'],
                            tips: ['遇推銷若無興趣請堅定拒絕。', '買紀念品好地方，記得適度殺價。', '巷弄狹窄注意財物。']
                        },
                        {
                            name: '阿爾拜辛老城區 (Albayzín)',
                            info: '全天開放 | 建議穿好走的鞋',
                            history: '格拉納達最古老街區，保留中世紀迷宮般街道，防禦外敵且遮陽。白色牆面反射陽光，庭院種滿茉莉。散步不需地圖，轉角就是驚喜。',
                            hashtags: ['albayzin', 'albaicin', 'granadaspain', 'barrioalbaicin', 'andalucia'],
                            tips: ['全是鵝卵石坡路，勿穿高跟鞋或拖行李。', '建議搭巴士上山再走下來。', '晚上建議走大路或結伴。']
                        },
                        {
                            name: '聖尼古拉斯觀景台',
                            info: '全天開放 | 日落前1小時抵達',
                            history: '柯林頓譽為「世界最美夕陽」。平視阿爾罕布拉宮全景，背景是內華達雪山。夕陽下宮殿染成金紅，伴隨吉普賽人吉他聲，極致浪漫。',
                            hashtags: ['miradordesannicolas', 'alhambravlew', 'sunsetgranada', 'flamencogranada', 'miradorsannicolas'],
                            tips: ['日落前半小時海景第一排就會被佔滿。', '小偷非常多，拍照請留意包包。', '旁邊清真寺花園也可免費進入，視野一樣好。']
                        },
                        {
                            name: '格拉納達主教座堂',
                            info: '10:00 - 18:15',
                            history: '象徵天主教雙王收復失地的勝利，建於清真寺遺址上。西班牙第一座文藝復興教堂，內部寬敞明亮，白色為主。緊鄰安葬雙王的「皇家禮拜堂」。',
                            hashtags: ['catedraldegranada', 'granadacathedral', 'capillareal', 'granadacentro', 'renacimientoespañol'],
                            tips: ['皇家禮拜堂入口分開，需另外購票。', '門票含語音導覽。', '周圍是香料市集可順道逛。']
                        }
                    ],
                    hiddenGems: [
                        { name: '達羅河畔', desc: '世界最浪漫散步街道，沿溪仰望城堡。', query: 'Carrera del Darro Granada' },
                        { name: '薩克羅蒙特', desc: '吉普賽洞穴屋區，欣賞洞穴佛朗明哥。', query: 'Sacromonte District Granada' },
                        { name: '卡圖哈修道院', desc: '巴洛克極致，內部裝飾繁複華麗。', query: 'Cartuja Monastery Granada' },
                        { name: '聖熱羅尼莫修道院', desc: '格拉納達第一座天主教修道院，安靜莊嚴。', query: 'Monasterio de San Jerónimo Granada' }
                    ],
                    shopping: [
                        { name: 'Artesanía El Suspiro', type: '工藝品', desc: 'Alcaicería內精緻小店，販售高品質鑲嵌木盒。', query: 'Artesanía El Suspiro Granada' },
                        { name: 'Herbolario El Nazarí', type: '香料/茶葉', desc: '茶街上買道地混合茶或番紅花推薦。', query: 'Herbolario El Nazarí Calle Calderería Nueva 13' },
                        { name: 'Fajalauza Ceramics', type: '陶瓷', desc: '傳統藍綠彩繪陶瓷，推薦 Cerámica Los Arrayanes。', query: 'Cerámica Los Arrayanes Cuesta de Gomérez 4' }
                    ],
                    souvenirs: ['鑲嵌木工藝品', '阿拉伯香料茶葉', '法蒂瑪之手飾品', '石榴造型紀念品'],
                    food: [
                        { name: 'El Mirador de Tato', category: '景觀餐廳', price: '25-40', info: '阿爾拜辛區絕佳視野，精緻安達魯西亞料理。', query: 'El Mirador de Tato Granada' },
                        { name: 'Los Diamantes', category: '海鮮', price: '15-25', info: '傳奇炸海鮮，點飲料送Tapas，炸小魚必點。', query: 'Bar Los Diamantes Plaza Nueva' },
                        { name: 'Bodegas Castañeda', category: 'Tapas', price: '15-25', info: '懷舊風情傳統酒館，必點冷盤拼盤。', query: 'Bodegas Castañeda Granada' },
                        { name: 'Heladería Los Italianos', category: '甜點', price: '3-6', info: '當地最愛冰淇淋，必點Cassata。', query: 'Heladería Los Italianos Granada' },
                        { name: 'Pionono', category: '甜點', price: '2-4', info: '特產小蛋糕，推薦 Pastelería Ysla。', query: 'Pastelería Ysla Granada' },
                        { name: 'Restaurante Mirador de Morayma', category: '正餐', price: '30-50', info: '看著阿爾罕布拉宮用餐，非常浪漫。', query: 'Mirador de Morayma' },
                        { name: 'Taberna La Tana', category: 'Tapas', price: '15-25', info: '葡萄酒選品棒，老闆娘熱情。', query: 'Taberna La Tana Granada' },
                        { name: 'Entrebrasas', category: '牛排', price: '20-35', info: '肉食者必來，送的Tapas常是現烤肉塊。', query: 'Entrebrasas Granada' },
                        { name: 'Café 4 Gatos', category: '早餐', price: '5-10', info: '文青咖啡店，有阿爾罕布拉宮景觀。', query: 'Café 4 Gatos Granada' }
                    ]
                },
                barcelona: {
                    name: '巴塞隆納',
                    attractions: [
                        {
                            name: '聖家堂 (Sagrada Família)',
                            info: '09:00 - 18:00 | 必買導覽，登塔需預約',
                            history: '高第傾盡畢生心血的遺作，唯一未完工列入世界遺產。誕生立面展現喜悅，受難立面展現悲劇。內部是光之森林，東面藍綠晨光，西面紅橘夕陽，神聖平靜。',
                            hashtags: ['sagradafamilia', 'gaudi', 'sagradafamiliabarcelona', 'barcelonagram', 'antonigaudi'],
                            tips: ['登塔建議選誕生立面。', '最佳光影：上午拍誕生面，下午拍受難面。', '服裝嚴格規定需遮肩膝。']
                        },
                        {
                            name: '奎爾公園 (Park Güell)',
                            info: '09:30 - 17:30 | 需購票入場',
                            history: '原為失敗建案變身童話公園。展現對自然的崇敬，著名百柱廳天花板與入口彩色馬賽克大蜥蜴(El Drac)是必拍標誌。',
                            hashtags: ['parkguell', 'parqueguell', 'gaudi', 'barcelona', 'parkguellbarcelona'],
                            tips: ['建議搭24號公車直達側門一路下坡。', '波浪長椅和大蜥蜴在收費區，需購票。', '遲到半小時票券失效。']
                        },
                        {
                            name: '米拉之家 (Casa Milà)',
                            info: '09:00 - 20:30 | 俗稱「採石場」',
                            history: '波浪狀外觀無直線，展現「直線屬人類，曲線屬上帝」理念。屋頂像外星戰士的通風塔是亮點。',
                            hashtags: ['casamila', 'lapedrera', 'gaudi', 'barcelonaarchitecture', 'passeigdegracia'],
                            tips: ['建議買日夜套票看屋頂燈光秀。', '重點在屋頂和閣樓鯨魚骨架。', '出口紀念品店品質高。']
                        },
                        {
                            name: '巴特略之家 (Casa Batlló)',
                            info: '09:00 - 20:00 | AR導覽超棒',
                            history: '講述聖喬治屠龍傳說。屋頂如龍脊，陽台像面具。藍色天井隨光線變化如海底。AR導覽出色。',
                            hashtags: ['casabatllo', 'gaudi', 'modernisme', 'barcelona', 'casabatlló'],
                            tips: ['門票雖貴但AR導覽值得。', '屋頂空間小，建議開門就衝。', '樓梯間藍色天井必拍。']
                        },
                        {
                            name: '聖保羅醫院',
                            info: '09:30 - 17:00 | 最美的醫院',
                            history: '多明尼克設計，堅信藝術療癒靈魂。花園城市般設計，色彩繽紛馬賽克與雕塑，功能與藝術完美共存。',
                            hashtags: ['santpaurecintemodernista', 'hospitalsantpau', 'santpau', 'barcelona', 'modernismecatala'],
                            tips: ['離聖家堂走路15分鐘。', '遊客較少，適合拍網美照。', '展覽館粉紅圓頂必拍。']
                        },
                        {
                            name: '加泰羅尼亞音樂宮',
                            info: '10:00 - 15:30 | 建議參加導覽或看表演',
                            history: '多明尼克極致炫技，唯一世遺音樂廳。表演廳巨大倒吊彩色玻璃穹頂如金黃水滴，令人屏息。',
                            hashtags: ['palaudelamusica', 'palaumusicacatalana', 'barcelona', 'modernisme', 'unesco'],
                            tips: ['可買便宜表演票入場感受音響。', '中文導覽需特定時間。', '一樓咖啡廳免費進入，紅磚拱門很美。']
                        },
                        {
                            name: '畢卡索美術館',
                            info: '10:00 - 19:00 | 週四下午免費(需預約)',
                            history: '收藏畢卡索藍色時期等早期作品。展現大師從古典寫實到打破規則的過程。鎮館之寶包括解構《宮女》系列。',
                            hashtags: ['museupicasso', 'picassomuseum', 'pablopicasso', 'barcelona', 'elborn'],
                            tips: ['免費時段需提前4天搶票。', '僅庭院可拍照。', '參觀完可逛Born區小店。']
                        },
                        {
                            name: '哥倫布紀念碑',
                            info: '08:30 - 14:30 | 蘭布拉大道盡頭',
                            history: '1888年博覽會建，紀念哥倫布匯報發現新大陸。手指指向大海象徵勇氣。可搭電梯登頂俯瞰港口。',
                            hashtags: ['monumentacolom', 'columbusmonument', 'barcelona', 'ramblas', 'portvell'],
                            tips: ['電梯非常狹小。', '頂樓視野無敵。', '底部獅子雕像遊客愛拍。']
                        },
                        {
                            name: '巴塞羅那主教座堂',
                            info: '10:30 - 18:30 | 哥德區心臟',
                            history: '正統哥德式建築。迴廊養13隻白鵝，象徵守護神聖歐拉利亞13歲殉教。與高第風格截然不同。',
                            hashtags: ['catedraldebarcelona', 'barcelonacathedral', 'barriogotic', 'gothicquarter', 'bcn'],
                            tips: ['服裝規定嚴格需遮肩膝。', '早晚有免費祈禱時段(限主殿)。', '必去迴廊看白鵝。']
                        },
                        {
                            name: '凱旋門 (Arc de Triomf)',
                            info: '全天開放 | 1888年博覽會入口',
                            history: '紅磚砌成的新穆德哈爾風格，非紀念軍事勝利而是迎賓大門。穿越即進入城堡公園。',
                            hashtags: ['arcdetriomf', 'arcdetriomfbarcelona', 'bcn', 'ciutadella', 'barcelona_turisme'],
                            tips: ['溜滑板熱點，氛圍活力。', '建議租單車騎進城堡公園。', '下午夕陽打在紅磚最美。']
                        },
                        {
                            name: 'Bunkers del Carmel',
                            info: '全天開放 | 360度免費觀景台',
                            history: '內戰時期高射炮陣地，現為最熱門免費觀景點。無遮蔽俯瞰聖家堂與地中海，視野壯闊。',
                            hashtags: ['bunkersdelcarmel', 'barcelonaview', 'bunkers', 'sunsetbarcelona', 'bestviewbarcelona'],
                            tips: ['交通不便需爬坡。', '山上無商店廁所請自備。', '風大建議帶外套。']
                        },
                        {
                            name: 'El món neix en cada besada (吻牆)',
                            info: '全天開放 | 哥德區小巷',
                            history: '藝術家 Joan Fontcuberta 創作，遠看是親吻嘴唇，近看是無數市民「自由時刻」照片拼貼。象徵愛與自由。',
                            hashtags: ['elmónneixencadabesada', 'kissmural', 'barcelonakiss', 'gothicquarter', 'joanfontcuberta'],
                            tips: ['位置隱密需定位準確。', '熱門打卡點建議早去。', '記得近拍照片細節。']
                        }
                    ],
                    hiddenGems: [
                        { name: '布克利亞市場', desc: '色彩繽紛市場，喝果汁吃海鮮。', query: 'La Boqueria Market Barcelona' },
                        { name: '魔幻噴泉', desc: '週末燈光水舞秀震撼。', query: 'Magic Fountain of Montjuïc' },
                        { name: '文森之家', desc: '高第首個住宅作品，東方元素。', query: 'Casa Vicens Gaudí' },
                        { name: '巴塞羅內塔海灘', desc: '離市區最近海灘，吃海鮮飯。', query: 'Barceloneta Beach' }
                    ],
                    shopping: [
                        { name: 'ZARA', type: '時尚/旗艦店', desc: '加泰隆尼亞廣場旗艦店，建築宏偉貨全。', query: 'Zara Plaça de Catalunya 5' },
                        { name: 'LOEWE', type: '精品/建築', desc: '位於世界遺產獅子與桑樹之家內，逛店即欣賞藝術。', query: 'LOEWE Casa Lleó Morera Passeig de Gràcia 35' },
                        { name: 'Papirum', type: '古董文具', desc: '哥德區歷史名店，精美紙張羽毛筆，如哈利波特場景。', query: 'Papirum Baixada de la Llibreteria 2' },
                        { name: 'Caganer.com', type: '特色伴手禮', desc: '專賣排便人偶，象徵好運豐收，非常幽默。', query: 'Caganer.com Banys Nous 4' },
                        { name: 'Torrons Vicens', type: '甜點伴手禮', desc: '百年杜隆糖老店，推薦Petritxol老街分店。', query: 'Torrons Vicens Carrer de Petritxol 15' },
                        { name: 'La Chinata', type: '橄欖油', desc: '頂級橄欖油及護膚品，推薦Raval分店。', query: 'La Chinata Barcelona Raval' },
                        { name: 'FC Barcelona Store', type: '運動周邊', desc: '巴薩迷必去，格拉西亞大道旗艦店最大。', query: 'Barça Store Passeig de Gràcia 15' },
                        { name: 'Amatller Chocolate', type: '甜點', desc: '慕夏風格包裝巧克力，巴特略之家隔壁。', query: 'Chocolate Amatller Passeig de Gràcia 41' }
                    ],
                    souvenirs: ['杜隆糖', '排便人偶', '馬賽克蜥蜴紀念品', 'Cava 氣泡酒', '橄欖油護膚品'],
                    food: [
                        { name: 'Jon Cake', category: '甜點', price: '5-10', info: '社群爆紅巴斯克乳酪蛋糕，口味多樣。', query: 'Jon Cake Barcelona' },
                        { name: 'Cervecería Catalana', category: 'Tapas', price: '20-30', info: '生意最好名店，海鮮超新鮮，必點竹聖。', query: 'Cervecería Catalana Barcelona' },
                        { name: 'El Xampanyet', category: 'Tapas', price: '15-25', info: '氣氛熱鬧，主打Cava氣泡酒與鯷魚。', query: 'El Xampanyet Barcelona' },
                        { name: '7 Portes', category: '海鮮飯', price: '40-60', info: '百年老店，畢卡索來過，海鮮飯道地。', query: 'Restaurant 7 Portes' },
                        { name: 'Hofmann Pastisseria', category: '甜點', price: '5-8', info: '曾獲世界最佳可頌，馬斯卡彭口味必吃。', query: 'Hofmann Pastisseria Barcelona' },
                        { name: 'La Paradeta', category: '海鮮', price: '20-35', info: '像魚市場自己挑海鮮現煮，CP值高。', query: 'La Paradeta Born' },
                        { name: 'Vinitus', category: 'Tapas', price: '20-30', info: '同Cervecería系，鵝肝牛肉串必吃。', query: 'Vinitus Barcelona' },
                        { name: 'Can Paixano', category: '小吃', price: '5-10', info: '站著喝粉紅氣泡酒配漢堡，氣氛超嗨。', query: 'La Xampanyeria Barcelona' },
                        { name: 'Els Quatre Gats', category: '正餐', price: '30-45', info: '四隻貓餐廳，畢卡索混跡地，藝術氣息。', query: 'Els Quatre Gats Barcelona' },
                        { name: 'Pastisseria Escribà', category: '甜點', price: '5-15', info: '像珠寶店，必點紅唇蛋糕，推薦總店。', query: 'Pastisseria Escribà Gran Via de les Corts Catalanes' }
                    ]
                }
            };

            const currentCityData = cityData[activeCity];

            return (
                <div className="min-h-screen pb-20 font-sans text-gray-800">
                    {/* Header */}
                    <div className="bg-white shadow-md sticky top-0 z-50">
                        <div className="px-4 py-3 bg-gradient-to-r from-red-600 to-yellow-500 text-white flex justify-between items-center">
                            <div>
                                <h1 className="text-lg font-bold flex items-center gap-2"><BookOpen size={20} /> 城市伴讀</h1>
                                <p className="text-xs opacity-90">我的西班牙旅遊助手</p>
                            </div>
                            <div className="text-right text-xs">
                                <p>{currentTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</p>
                                <p>{new Date().toLocaleDateString()}</p>
                            </div>
                        </div>
                        <div className="flex overflow-x-auto no-scrollbar border-b">
                            {Object.keys(cityData).map((cityKey) => (
                                <button key={cityKey} onClick={() => { setActiveCity(cityKey); window.scrollTo(0,0); }} 
                                    className={`flex-1 py-3 px-4 text-sm font-medium whitespace-nowrap transition-colors border-b-2 ${activeCity === cityKey ? 'border-red-600 text-red-600 bg-red-50' : 'border-transparent text-gray-500 hover:text-gray-700'}`}>
                                    {cityData[cityKey].name}
                                </button>
                            ))}
                        </div>
                        <div className="flex justify-around py-2 bg-gray-50 border-b text-xs text-gray-500 overflow-x-auto">
                            <button onClick={() => scrollToSection(attractionsRef)} className="flex items-center gap-1 hover:text-red-600 px-2"><Camera size={14}/> 景點</button>
                            <button onClick={() => scrollToSection(hiddenGemsRef)} className="flex items-center gap-1 hover:text-teal-600 px-2"><MapPin size={14}/> 遺珠</button>
                            <button onClick={() => scrollToSection(shoppingRef)} className="flex items-center gap-1 hover:text-purple-600 px-2"><ShoppingBag size={14}/> 購物</button>
                            <button onClick={() => scrollToSection(foodRef)} className="flex items-center gap-1 hover:text-orange-500 px-2"><Utensils size={14}/> 美食</button>
                        </div>
                    </div>

                    <div className="max-w-2xl mx-auto p-4 space-y-6">
                        {/* Weather */}
                        <div className="bg-white rounded-xl shadow-sm p-4 border border-gray-100 relative overflow-hidden min-h-[140px]">
                            <div className="absolute top-0 right-0 w-32 h-32 bg-blue-100 rounded-full mix-blend-multiply filter blur-2xl opacity-50 -translate-y-1/2 translate-x-1/2"></div>
                            <h2 className="text-gray-500 text-xs font-semibold uppercase tracking-wider mb-2 flex items-center gap-1"><MapPin size={12}/> 當地即時天氣 ({currentCityData.name})</h2>
                            {loadingWeather ? (
                                <div className="flex flex-col items-center justify-center py-4 text-gray-400"><Loader className="animate-spin mb-2" /><span className="text-xs">更新氣象數據中...</span></div>
                            ) : weatherData ? (
                                <div className="flex justify-between items-center z-10 relative mt-2">
                                    <div>
                                        <div className="flex items-end gap-2"><span className="text-4xl font-bold text-gray-800">{Math.round(weatherData.current.temperature_2m)}°C</span><span className="text-sm text-gray-500 mb-1">{getWeatherDesc(weatherData.current.weather_code)}</span></div>
                                        <div className="mt-2 text-xs text-gray-400">資料來源: Open-Meteo</div>
                                    </div>
                                    <div className="flex flex-col items-end gap-2">{getWeatherIcon(weatherData.current.weather_code, weatherData.current.is_day)}
                                        <div className="text-right text-xs text-gray-600 space-y-1 mt-1">
                                            <div className="flex items-center justify-end gap-1"><Sunrise size={14} className="text-orange-400"/> {new Date(weatherData.daily.sunrise[0]).toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})}</div>
                                            <div className="flex items-center justify-end gap-1"><Sunset size={14} className="text-indigo-400"/> {new Date(weatherData.daily.sunset[0]).toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'})}</div>
                                        </div>
                                    </div>
                                </div>
                            ) : <div className="text-center text-sm text-red-400 py-4">無法取得天氣資訊</div>}
                        </div>

                        {/* Attractions */}
                        <section ref={attractionsRef} className="scroll-mt-36">
                            <div className="flex items-center gap-2 mb-4"><Camera className="text-red-600" size={20}/><h2 className="text-xl font-bold text-gray-800">精選景點</h2></div>
                            <div className="flex overflow-x-auto gap-2 pb-2 mb-2 no-scrollbar">
                                {currentCityData.attractions.map((spot, index) => (
                                    <button key={index} onClick={() => scrollToAttraction(`attraction-${index}`)} className="whitespace-nowrap px-3 py-1 rounded-full text-xs border border-gray-200 bg-white text-gray-600 hover:border-red-400 hover:text-red-500 transition-colors shadow-sm">{spot.name.split('(')[0]}</button>
                                ))}
                            </div>
                            <div className="space-y-6">
                                {currentCityData.attractions.map((spot, index) => (
                                    <div id={`attraction-${index}`} key={index} className="bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100 scroll-mt-40">
                                        <div className="bg-gradient-to-r from-gray-50 to-white border-b border-gray-100 px-5 py-4"><h3 className="text-gray-800 font-bold text-xl flex items-center gap-2"><span className="w-2 h-6 bg-red-500 rounded-full inline-block"></span>{spot.name}</h3></div>
                                        <div className="p-5 space-y-5">
                                            <div className="flex flex-wrap gap-2 text-xs font-medium">
                                                <span className="px-2.5 py-1.5 bg-blue-50 text-blue-700 rounded-full flex items-center gap-1.5"><Clock size={12}/> {spot.info.split('|')[0].trim()}</span>
                                                {spot.info.split('|')[1] && <span className="px-2.5 py-1.5 bg-green-50 text-green-700 rounded-full flex items-center gap-1.5"><Info size={12}/> {spot.info.split('|')[1].trim()}</span>}
                                            </div>
                                            <div className="bg-amber-50/60 p-4 rounded-xl border border-amber-100 relative">
                                                <div className="flex justify-between items-start mb-2">
                                                    <h4 className="flex items-center gap-2 text-xs font-bold uppercase text-amber-600"><BookOpen size={14}/> 歷史速讀</h4>
                                                    <div className="flex gap-2">
                                                        <button onClick={() => searchBlogs(spot.name)} className="text-[10px] bg-white border border-amber-200 text-amber-600 px-2 py-1 rounded-md flex items-center gap-1 hover:bg-amber-100"><Search size={10} /> 搜遊記</button>
                                                        <button onClick={() => window.open(`https://zh.wikipedia.org/wiki/${encodeURIComponent(spot.name)}`, '_blank')} className="text-[10px] bg-white border border-amber-200 text-amber-600 px-2 py-1 rounded-md flex items-center gap-1 hover:bg-amber-100"><FileText size={10} /> 百科</button>
                                                    </div>
                                                </div>
                                                <p className="text-sm text-gray-700 leading-7 text-justify tracking-wide">{spot.history}</p>
                                            </div>
                                            {spot.tips && <div className="bg-indigo-50/60 p-4 rounded-xl border border-indigo-100"><h4 className="flex items-center gap-2 text-xs font-bold uppercase text-indigo-600 mb-2"><Lightbulb size={14}/> 貼心小提醒</h4><ul className="space-y-2">{spot.tips.map((tip, i) => <li key={i} className="text-sm text-gray-700 flex items-start gap-2 leading-relaxed"><span className="text-indigo-400 mt-1.5 min-w-[6px] h-[6px] rounded-full bg-indigo-400 block"></span>{tip}</li>)}</ul></div>}
                                            <div>
                                                <h4 className="text-sm font-bold text-gray-800 mb-3 flex items-center gap-2"><Instagram size={16} className="text-pink-500"/> 景點 IG 常用 Hashtag</h4>
                                                <div className="flex flex-wrap gap-2">{spot.hashtags.map((tag, i) => <button key={i} className="px-3 py-1.5 bg-white border border-pink-100 text-pink-600 rounded-full text-xs font-medium hover:bg-pink-50 transition-colors flex items-center gap-1 shadow-sm" onClick={() => openHashtag(tag)}><Hash size={10} />{tag}</button>)}</div>
                                            </div>
                                            <a href={getGoogleMapsUrl(spot.name)} target="_blank" rel="noreferrer" className="flex items-center justify-center w-full py-3 bg-gray-800 text-white rounded-xl text-sm font-bold hover:bg-gray-700 transition-colors shadow-sm"><MapPin size={16} className="mr-2"/> 開啟地圖導航</a>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </section>

                        {/* Hidden Gems */}
                        <section ref={hiddenGemsRef} className="scroll-mt-36">
                            <div className="flex items-center gap-2 mb-4 mt-8"><MapPin className="text-teal-600" size={20}/><h2 className="text-xl font-bold text-gray-800">城市遺珠 (備案)</h2></div>
                            <div className="bg-white rounded-xl shadow-sm border border-gray-100 divide-y divide-gray-100">
                                {currentCityData.hiddenGems.map((gem, index) => (
                                    <div key={index} className="p-4 hover:bg-teal-50 transition-colors cursor-pointer group" onClick={() => window.open(getGoogleMapsUrl(gem.query || gem.name), '_blank')}>
                                        <div className="flex justify-between items-start">
                                            <div><h3 className="font-bold text-gray-800 group-hover:text-teal-700">{gem.name}</h3><p className="text-sm text-gray-500 mt-1">{gem.desc}</p></div>
                                            <ChevronRight size={16} className="text-gray-300 mt-1 group-hover:text-teal-500"/>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </section>

                        {/* Shopping */}
                        {currentCityData.shopping && (
                            <section ref={shoppingRef} className="scroll-mt-36">
                                <div className="flex items-center gap-2 mb-4 mt-8"><ShoppingBag className="text-purple-600" size={20}/><h2 className="text-xl font-bold text-gray-800">購物指南</h2></div>
                                <div className="bg-white rounded-xl shadow-sm border border-gray-100 divide-y divide-gray-100 mb-4">
                                    {currentCityData.shopping.map((shop, index) => (
                                        <div key={index} className="p-4 hover:bg-purple-50 transition-colors cursor-pointer group" onClick={() => window.open(getGoogleMapsUrl(shop.query), '_blank')}>
                                            <div className="flex justify-between items-start">
                                                <div>
                                                    <div className="flex items-center gap-2 mb-1"><h3 className="font-bold text-gray-800 group-hover:text-purple-700">{shop.name}</h3><span className="text-[10px] font-bold px-2 py-0.5 bg-purple-100 text-purple-600 rounded-full">{shop.type}</span></div>
                                                    <p className="text-sm text-gray-500">{shop.desc}</p>
                                                </div>
                                                <ChevronRight size={16} className="text-gray-300 mt-1 group-hover:text-purple-500"/>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                                {currentCityData.souvenirs && (
                                    <div className="bg-purple-50/60 p-4 rounded-xl border border-purple-100">
                                        <h4 className="flex items-center gap-2 text-xs font-bold uppercase text-purple-600 mb-3"><Gift size={14}/> 必買伴手禮項目</h4>
                                        <div className="flex flex-wrap gap-2">{currentCityData.souvenirs.map((item, i) => <span key={i} className="px-3 py-1 bg-white border border-purple-200 text-purple-700 text-xs rounded-full shadow-sm">{item}</span>)}</div>
                                    </div>
                                )}
                            </section>
                        )}

                        {/* Food */}
                        <section ref={foodRef} className="scroll-mt-36">
                            <div className="flex items-center gap-2 mb-4 mt-8"><Utensils className="text-orange-500" size={20}/><h2 className="text-xl font-bold text-gray-800">必吃美食 ({currentCityData.food.length}選)</h2></div>
                            <div className="grid gap-4 sm:grid-cols-2">
                                {currentCityData.food.map((item, index) => (
                                    <a key={index} href={getGoogleMapsUrl(item.query || item.name)} target="_blank" rel="noreferrer" className="bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-all group flex flex-col justify-between">
                                        <div>
                                            <div className="flex justify-between items-start mb-2"><h3 className="font-bold text-gray-800 group-hover:text-orange-600 transition-colors line-clamp-1">{item.name}</h3><span className="text-[10px] font-bold px-2 py-1 bg-orange-50 text-orange-600 rounded-full border border-orange-100 whitespace-nowrap">{item.category}</span></div>
                                            <p className="text-xs text-gray-500 mb-3 leading-relaxed">{item.info}</p>
                                        </div>
                                        <div className="flex justify-between items-center border-t border-gray-50 pt-3 mt-1"><span className="text-xs font-medium text-gray-400 flex items-center">人均 <Euro size={10} className="ml-1"/>{item.price}</span><span className="text-xs text-blue-600 font-bold flex items-center gap-1 bg-blue-50 px-2 py-1 rounded-md">導航 <ChevronRight size={10}/></span></div>
                                    </a>
                                ))}
                            </div>
                        </section>

                        <div className="text-center text-gray-400 text-xs mt-12 mb-4 pb-safe"><p className="mb-2">🇪🇸 Hola! Enjoy your trip to Spain!</p><p>© 2026 城市伴讀</p></div>
                    </div>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<CityCompanion />);
    </script>
</body>
</html>